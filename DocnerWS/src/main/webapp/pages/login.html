<!DOCTYPE html>
<html lang="pt">

	<head>
		<meta charset="UTF-8">
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    						<title>DOCNER</title>
    						
    	<!-- Import CSS -->
    	<link href="assets/css/bootstrap.min.css" rel="stylesheet">
    	<link href="assets/css/template.css" rel="stylesheet">
    	<link href="assets/css/AdminLTE.min.css" rel="stylesheet">
	</head>
	
	<!-- Configuracao relativo ao css do validator -->
	<style>
		.jquery-validate-error {
		    color:#FF0000;
		    text-align: center;
		    font-weight: bold;
		}
	</style>

	<body>
		<div id="loading">
			<div class="loader loader-light loader-large"></div>
		</div>
		
		<div>
			<div class="col-md-4  col-md-offset-4">
				<div style="background-image: url('assets/img/bga.jpg');">
					<article class="widget widget__login">
						<header class="widget__header one-btn">
							<div class="widget__title">
								<div class="main-logo">
									<img src="assets/img/1_Primary_logo_on_transparent_136x75.png" width="108" height="63">
								</div> Login
							</div>
							<div class="widget__config">
								<a><i class="fa fa-book"></i></a>
							</div>
						</header>
						<div class="widget__content">
						
							<!-- Form Login -->
							<form name="form" th:action="@{/login}" method="post" class="form-horizontal" id="signin-form_id" novalidate="novalidate">
								<fieldset class="form-group form-actions w-icon">
									<div>
										<input type="text" class="form-control" id="username" name="username" placeholder="Usuario" required/>
									</div>
									<div>
										<input type="password" class="form-control" id="password" name="password" placeholder="Senha" required/>
									</div>
									<div>
										<button class="btn-rounded" onclick="efetuarLogin();" type="submit">Entrar</button>
									</div>
								</fieldset>
							</form>
						</div>
					</article>
				</div>
			</div>
		</div>
	
		<!-- Modal relativa ao erro -->
		<div id="modal_erro_login" class="modal modal-alert modal-danger fade" aria-hidden="true" style="display: none;">
			<div class="modal-dialog">
				<div class="modal-content">
					<div id="growls" class="default">
						<div class="growl growl-error growl-medium">
							<div class="growl-close" data-dismiss="modal">Ã—</div>
  							<div class="growl-title">Acesso negado!</div>
 							<div class="growl-message" id="login_error_msg_id"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
	</body>
	
	<!-- Import JS -->
	<script src="assets/js/jquery-2.2.0.min.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/generic.js" type="text/javascript"></script>
	<script src="assets/js/template.min.js" type="text/javascript"></script>
	<script src="assets/js/traducao-jquery-validation.js" type="text/javascript"></script>
	
	<!-- Custom JS -->
	<script type="text/javascript">
		//Loading
		$(window).load(function(){
			$('#loading').fadeOut();
		})
		
		//Page reader
		$(document).ready(function() {
			limpaUrl(false);
			
			//Valida os parametros
			queryString = getQueryString(true);
			if(queryString.error != undefined){
				$("#login_error_msg_id").html(queryString.error);
				$("#modal_erro_login").modal("show");
		    	$('#modal_erro_login').addClass('animated bounce');
			}
			
			//Constroi o validate
			$("#signin-form_id").validate({ 
				focusInvalid: true, 
				errorPlacement: function(error, element) {
					error.insertAfter(element);
				}  
			});
					         			                 			
			$("#username").rules("add", {
				required: true
			});
			
			$("#password").rules("add", {
				required: true
			});
		});
		
		//Active key
		document.onkeydown=function(){
		    if(window.event.keyCode=='13'){
		    	efetuarLogin();
		    }
		}
		
		//Login
		function efetuarLogin() {
			if ($("#signin-form_id").valid()) {
				$("#signin-form_id").submit();
			}
		}
	</script>
</html>